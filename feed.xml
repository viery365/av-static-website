<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Blog Name</title>
  <subtitle>Blog subtitle</subtitle>
  <id>http://blog.url.com/</id>
  <link href="http://blog.url.com/"/>
  <link href="http://blog.url.com/feed.xml" rel="self"/>
  <updated>2018-01-20T09:00:00+09:00</updated>
  <author>
    <name>Blog Author</name>
  </author>
  <entry>
    <title>AV EcoSystem Review Back to MSAccess</title>
    <link rel="alternate" href="http://blog.url.com/2018/01/20/av-ecosystem-review-back-to-msaccess/"/>
    <id>http://blog.url.com/2018/01/20/av-ecosystem-review-back-to-msaccess/</id>
    <published>2018-01-20T09:00:00+09:00</published>
    <updated>2018-06-13T18:06:30+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;img alt="msaccess" src="/images/../images/msaccess.png" /&gt;&lt;/p&gt;

&lt;p&gt;Another week, and I need to switch back to the APSoc project and its continuing development on MSAccess.  I did manage to complete the new Premium-Subscription data model update in WebSiteOne last week, but I did not manage to update all the data to take advantage of it, and I still haven&amp;rsquo;t completed the monthly report to the AV trustees.  Anyway, let&amp;rsquo;s do a chunk on the APSoc project.  The client apparently has Office 365 (aka Office 2016), so arguably I should be working on the same, but since what I&amp;rsquo;ve created so far seems to be working for them okay, I&amp;rsquo;m tempted to continue in MSAccess 2007 and see how far we can get.  I think we&amp;rsquo;ve now got access to the latest Office products through our charity status, but I&amp;rsquo;m worried about burning hours on install and getting used to the new interface when I want to properly wrap by head around all the nuances of the data requirements from the client.&lt;/p&gt;

&lt;p&gt;I guess I can kick off a download of the latest office in the background without investing too much time.  Although it seems from trying to log into the service center that our account isn&amp;rsquo;t recognized.  Just the kind of thing I could burn time on.  Let&amp;rsquo;s get into the client requirements.  MS send me a verification code, so I follow through on my windows machine &amp;hellip; the other issue is that I&amp;rsquo;m on Windows 7 Ultimate and I&amp;rsquo;ve no idea how that will work (if at all) with Office 365.  Anyway, client requirements.  I&amp;rsquo;m still conflicted about whether I should move all this into a Trello, but taking their last email, we&amp;rsquo;ve got the subscription payment form &amp;ldquo;rate paid dropdown&amp;rdquo; including the items they want.  They want the membership number to change somehow:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Currently Member_No is constructed as (Approach formula): &lt;/p&gt;

&lt;p&gt;Combine(AP&lt;em&gt;Soc&lt;/em&gt;Member&lt;em&gt;Types.&amp;ldquo;Code Letter&amp;rdquo;, &amp;rsquo;/&amp;rsquo;, NumToText(AP&lt;/em&gt;Soc_Members.RecNo, &amp;lsquo;00000&amp;rsquo;))&lt;/p&gt;

&lt;p&gt;So in the new system that would be&lt;/p&gt;

&lt;p&gt;CODE_LETTE from MembershipTypes Table / RECNO from Membership Table (as 5 digits with leading zeroes)&lt;/p&gt;

&lt;p&gt;I want the CODE_LETTE deleted from this formula and from the MembershipTypes Table.&lt;/p&gt;

&lt;p&gt;So MEMBERNO becomes just RECNO (as 5 digits with leading zeroes)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I&amp;rsquo;m going to leave that for the moment.  They also want to be able to flip between forms and stay on the same record.  That isn&amp;rsquo;t happening by default in Access 2007.  There&amp;rsquo;s an &lt;a href="https://stackoverflow.com/questions/38592699/access-how-to-open-a-second-form-to-the-same-record-as-the-first"&gt;SO post&lt;/a&gt; on that that might help, but again I&amp;rsquo;m tempted to leave this.  Although I can&amp;rsquo;t help myself googling a little more.  There&amp;rsquo;s a very old &lt;a href="https://arstechnica.com/civis/viewtopic.php?f=20&amp;amp;t=745702"&gt;Arstechnica post&lt;/a&gt; and a few other forum posts on the topic for where we might have buttons to link to other forms that would open that new form with the same record.  Seems fiddly, will get into that later.&lt;/p&gt;

&lt;p&gt;The status and expires dropdown on each form I fixed up the week before last.  The outstanding issues from the last email (which admittedly was feedback on the last LibreOffice version) are defaults for the GA Type dropdown and the Member No and Member Grade.  Let&amp;rsquo;s start on those &amp;hellip; For the GA Type dropdown the two values required are &amp;ldquo;All donations from&amp;rdquo; and &amp;ldquo;Single donation&amp;rdquo;; apparently the first of these should be the default.   I use a value list here instead of a separate table.  Seems pretty straightforward.  I&amp;rsquo;ve already got &amp;ldquo;Member Grade&amp;rdquo; and &amp;ldquo;Date Joined&amp;rdquo; defaulting correctly in the main member form.&lt;/p&gt;

&lt;p&gt;I notice that some of the dates aren&amp;rsquo;t fitting in their boxes, and switch them all to the more compact general date format, as well as reflecting on how it would be nice if the surrounding &amp;ldquo;member form&amp;rdquo; on each form was just some sort of single boilerplate &amp;hellip; but anyway, this all brings me to the various notes on the data model about default values for different fields in the membership database.  Previously I was trying to create fields in the database tables that were automatically generated from other fields, but that didn&amp;rsquo;t seem to work.  I guess I can set default values, but really we want the combined values like full name to be recalculated on the fly &amp;hellip; I find a &lt;a href="http://allenbrowne.com/casu-14.html"&gt;good article&lt;/a&gt; on using queries of calculated results.   So I implement that, but it only works some of the time and I&amp;rsquo;m not sure why &amp;hellip; an initial problem was that I had the macros disabled.  Switched those on, but it still only worked sometimes.  I ended up adding a series of refresh statements and it now seems to have worked:&lt;/p&gt;
&lt;pre class="highlight vb"&gt;&lt;code&gt;&lt;span class="k"&gt;Option&lt;/span&gt; &lt;span class="n"&gt;Compare&lt;/span&gt; &lt;span class="n"&gt;Database&lt;/span&gt;

&lt;span class="k"&gt;Private&lt;/span&gt; &lt;span class="k"&gt;Sub&lt;/span&gt; &lt;span class="nf"&gt;First_Name_AfterUpdate&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="k"&gt;Call&lt;/span&gt; &lt;span class="n"&gt;Last_Name_AfterUpdate&lt;/span&gt;
&lt;span class="k"&gt;End&lt;/span&gt; &lt;span class="k"&gt;Sub&lt;/span&gt;

&lt;span class="k"&gt;Private&lt;/span&gt; &lt;span class="k"&gt;Sub&lt;/span&gt; &lt;span class="nf"&gt;Last_Name_AfterUpdate&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="n"&gt;full_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;Me&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;First_Name&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="s"&gt;" "&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="k"&gt;Me&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Middle_Name&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="s"&gt;" "&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="k"&gt;Me&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Last_Name&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="s"&gt;" "&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="k"&gt;Me&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Letters&lt;/span&gt;
  &lt;span class="k"&gt;Me&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Full&lt;/span&gt; &lt;span class="n"&gt;Name&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;full_name&lt;/span&gt;
  &lt;span class="k"&gt;Me&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Refresh&lt;/span&gt;
  &lt;span class="k"&gt;Me&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Recalc&lt;/span&gt;
  &lt;span class="k"&gt;Me&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Requery&lt;/span&gt;
&lt;span class="k"&gt;End&lt;/span&gt; &lt;span class="k"&gt;Sub&lt;/span&gt;

&lt;span class="k"&gt;Private&lt;/span&gt; &lt;span class="k"&gt;Sub&lt;/span&gt; &lt;span class="nf"&gt;Letters_AfterUpdate&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="k"&gt;Call&lt;/span&gt; &lt;span class="n"&gt;Last_Name_AfterUpdate&lt;/span&gt;
&lt;span class="k"&gt;End&lt;/span&gt; &lt;span class="k"&gt;Sub&lt;/span&gt;

&lt;span class="k"&gt;Private&lt;/span&gt; &lt;span class="k"&gt;Sub&lt;/span&gt; &lt;span class="nf"&gt;Middle_Name_AfterUpdate&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="k"&gt;Call&lt;/span&gt; &lt;span class="n"&gt;Last_Name_AfterUpdate&lt;/span&gt;
&lt;span class="k"&gt;End&lt;/span&gt; &lt;span class="k"&gt;Sub&lt;/span&gt;

&lt;span class="k"&gt;Private&lt;/span&gt; &lt;span class="k"&gt;Sub&lt;/span&gt; &lt;span class="nf"&gt;Title_AfterUpdate&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="k"&gt;Call&lt;/span&gt; &lt;span class="n"&gt;Last_Name_AfterUpdate&lt;/span&gt;
&lt;span class="k"&gt;End&lt;/span&gt; &lt;span class="k"&gt;Sub&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is exactly why I did not want to spend an hour trying to download Office 365 as I suspected it would take me an hour to ensure that I could have calculated fields working, which is the key thing for getting most of the rest of the functionality that the client wants &amp;hellip;&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>AV EcoSystem Review Sorting and Reporting</title>
    <link rel="alternate" href="http://blog.url.com/2018/01/18/av-ecosystem-review-sorting_and_reporting/"/>
    <id>http://blog.url.com/2018/01/18/av-ecosystem-review-sorting_and_reporting/</id>
    <published>2018-01-18T09:00:00+09:00</published>
    <updated>2018-06-13T18:06:30+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;img alt="deploy" src="/images/deploy.jpeg" /&gt;&lt;/p&gt;

&lt;p&gt;Didn&amp;rsquo;t complete the AV report yesterday, or deploy the new premium model code. All booked up with exciting Premium F2F sessions, and this morning I had to spend an hour catching up with emails for various possible gigs to cover what the charity work does not.  So, right, let&amp;rsquo;s get that new code on staging &amp;hellip; which involves me rebasing to staging and pushing that up.  I didn&amp;rsquo;t manually check develop &amp;hellip; that&amp;rsquo;s partly because I&amp;rsquo;m turning the servers off to save money.  Funny, if I&amp;rsquo;d left them on over night I&amp;rsquo;d immediately have something I could check; it only takes 30 seconds (navigating to heroku, flicking a switch) to get them on, but sometimes that can feel like a real pain.  Anyway, got the develop server up, not even sure how to really check that things are really working &amp;hellip; I guess I sign up random guy as a premium member:&lt;/p&gt;

&lt;p&gt;&lt;img src="https://dl.dropbox.com/s/oyvrnyrbso5ouy4/Screenshot%202018-01-18%2010.37.43.png?dl=0" /&gt;&lt;/p&gt;

&lt;p&gt;and then upgrade to mob:&lt;/p&gt;

&lt;p&gt;&lt;img src="https://dl.dropbox.com/s/i95alz97si8nra1/Screenshot%202018-01-18%2010.38.28.png?dl=0" /&gt;&lt;/p&gt;

&lt;p&gt;and I don&amp;rsquo;t get any errors and the site looks okay.  And so I should be able to see the subscription relations in the rails console:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;[tansaku@Samuels-MBP:~/Documents/Github/AgileVentures/WebsiteOne (staging)]$ 
→ heroku run rails c -r develop
Running rails c on ⬢ websiteone-develop... up, run.5865 (Hobby)
Loading production environment (Rails 4.2.10)
irb(main):001:0&amp;gt; u = User.find_by email: 'random@random.com'
=&amp;gt; #&amp;lt;User id: 88, email: "random@random.com", created_at: "2016-02-24 11:09:56", updated_at: "2018-01-18 10:38:22", first_name: "Random", last_name: "Guy", display_email: false, slug: "random-guy", youtube_id: nil, display_profile: true, latitude: nil, longitude: nil, country_name: nil, city: nil, region: nil, youtube_user_name: nil, github_profile_url: nil, display_hire_me: false, bio: "rektktktk", receive_mailings: true, country_code: nil, timezone_offset: nil, status_count: 0, deleted_at: nil&amp;gt;
irb(main):002:0&amp;gt; u.subscriptions
=&amp;gt; #&amp;lt;ActiveRecord::Associations::CollectionProxy [#&amp;lt;Subscription id: 12, type: nil, started_at: "2018-01-18 10:38:22", ended_at: nil, user_id: 88, plan_id: 2, sponsor_id: 88&amp;gt;, #&amp;lt;Subscription id: 11, type: nil, started_at: "2018-01-18 10:37:49", ended_at: "2018-01-18 10:38:22", user_id: 88, plan_id: 1, sponsor_id: 88&amp;gt;]&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And that is all looking exactly as it should with one subscription being closed out and the new one started, so this code is winging its way to staging, where we can test with some more realistic data.  The build just passed there, but deploy will take a little longer - will leave that till tomorrow and push on with this report. Time to work out what AsyncVoter meetings we ran.  Hmm, maybe I need to bring up with the trustees some modifications to the report format &amp;hellip;&lt;/p&gt;

&lt;p&gt;In the background I&amp;rsquo;m seeing if I can get Heroku managing the SSL certs for HarrowCN for us:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;[tansaku@Samuels-MBP:~/Documents/GitHub/AgileVentures/LocalSupport (develop)]$ 
→ heroku certs:auto:enable -r staging
Enabling Automatic Certificate Management... done
=== Your certificate will now be managed by Heroku.  Check the status by running heroku certs:auto.
[tansaku@Samuels-MBP:~/Documents/GitHub/AgileVentures/LocalSupport (141687181_import_charity_data_from_commission)]$ 
→ heroku certs:auto -r staging
=== Automatic Certificate Management is enabled on harrowcn-staging

Domain                   Status
───────────────────────  ───────
staging.harrowcn.org.uk  Waiting
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If that all works and we could get the AV WSO certs self-managed that would be one less thing I need to worry about, i.e. renewing letsencrypt certificates every three months.  Okay, so now the new code is deployed to staging - probably best to get that deploy completed, so that I can uncover any pain that might lurk there - creating the report doesn&amp;rsquo;t pose such risks.  Okay, so tested on staging, looks good - pushing to master, and HarrowCN SSL looks good self managed (I guess?).  Could try production update there too &amp;hellip; updated the AsyncVoter report a little, still lots to do &amp;hellip;!&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>AV EcoSystem Review Monthly Reporting</title>
    <link rel="alternate" href="http://blog.url.com/2018/01/17/av-ecosystem-review-monthly-reporting/"/>
    <id>http://blog.url.com/2018/01/17/av-ecosystem-review-monthly-reporting/</id>
    <published>2018-01-17T09:00:00+09:00</published>
    <updated>2018-06-13T18:06:30+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;img alt="monthly reporting" src="/images/monthly_reporting.jpg" /&gt;&lt;/p&gt;

&lt;p&gt;So I&amp;rsquo;ve got in my &lt;a href="https://github.com/AgileVentures/WebsiteOne/pull/2039"&gt;PR for updating the premium/sponsor model&lt;/a&gt; to have the system maintain records of the different subscriptions a user has over time.  The PR is green and there is at least one refactorings that could be done, but I think I sensibly open that as a &lt;a href="https://github.com/AgileVentures/WebsiteOne/issues/2103"&gt;refactoring ticket&lt;/a&gt; rather than slowing the release of this.  In the process of doing so I end up closing the 20 or so airbrake errors about overrunning requests, that seem to have been fixed with the performance fix I released (taking the countdown to next scrum off the homepage).&lt;/p&gt;

&lt;p&gt;Right, so I want to get that deployed today if I can.  In the meantime I&amp;rsquo;m trying to finish up the monthly report for the AgileVentures trustees.  What I&amp;rsquo;d love to be able to do is get this change deployed and then review all the premium accounts as I did before Xmas and ensure that we have all the subscription history changes sorted, and then I can have the report include some sort of up to date stats for the trustees.  &lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m kind of struggling with the reports, trying to make the stats reported be something that&amp;rsquo;s actually of use to us.  Is it sensible for me to be reporting data like this about the WebSiteOne coordination meetings:&lt;/p&gt;

&lt;p&gt;&lt;img src="https://dl.dropbox.com/s/r4fsvru82gmpu38/Screenshot%202018-01-17%2009.57.57.png?dl=0" /&gt;&lt;/p&gt;

&lt;p&gt;It&amp;rsquo;s relevant in that part of my responsibility to the trustees is to ensure that the WebSiteOne coordination meetings are held.  I guess it&amp;rsquo;s not an unhelpful summary for me to remind me who&amp;rsquo;s attended the meetings over the course of the last month.  I also report various google analytics and new relic stats for the month.  Keeping my eye on these is good, but I&amp;rsquo;ve got into this habit (in both AV and NHS reports) of creating little paragraphs like:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;This month: From Dec 17 to Jan 15 we had 294 unique visitors to the site, of which 70% were new visitors.  The average session length was 3 minutes and 31 seconds and the bounce rate was ~47%.  Pages per session was 3.39. &lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Which are slightly fiddly to pull out of the Google Analytics interface and I wonder if I shouldn&amp;rsquo;t just stick in the graphic that Analytics provides, or even whether these are statisics of consequence?  I know that most of the trustees are not interested in the real specific numbers here, and that part of the point of the report is that someone is keeping an eye on these things.  It would be great if the report was totally automated.  At least I&amp;rsquo;d be interested in reading it &amp;hellip; I&amp;rsquo;d be even more interested in better understanding what viewers of the website were really thinking as they viewed the site.&lt;/p&gt;

&lt;p&gt;I had meant to come back and finish this during the day, but no rest for the wicked - okay, onto the next one &amp;hellip;&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>AV EcoSystem Review Damned JavaScript Acceptance Tests</title>
    <link rel="alternate" href="http://blog.url.com/2018/01/16/av-ecosystem-review-damned-javascript-acceptance-tests/"/>
    <id>http://blog.url.com/2018/01/16/av-ecosystem-review-damned-javascript-acceptance-tests/</id>
    <published>2018-01-16T09:00:00+09:00</published>
    <updated>2018-06-13T18:06:30+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;img alt="acceptance tests" src="/images/acceptance_testing_diagram.png" /&gt;&lt;/p&gt;

&lt;p&gt;So the APSoc client has approved the MSAccess alpha and the new timescale, so I can spend a week on the AV website and the rest of the ecosystem.  I made some progress with the Premium/Sponsor domain upgrade yesterday, and I suspect I have everything in place, but I&amp;rsquo;m getting what look suspiciously like a series of intermittent javascript acceptance test failures.  These really do seem to be the bane of our projects.  I&amp;rsquo;ve got a series of failures that disappear when I pop in the debugger.  For example:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;[tansaku@Samuels-MBP:~/Documents/Github/AgileVentures/WebsiteOne (1429_have_premium_upgrades_close_out_old_subscription)]$ 
→ be cucumber features/premium/upgrade_membership.feature:36

Using the default profile...
@stripe_javascript @javascript
Feature: Allow Users to Upgrade Membership
  As a site admin
  So that we can achieve financial stability
  I would like users to be able to upgrade their premium plans

  As a software developer
  So that I can receive additional support in my professional development journey
  I would like to be able to upgrade my support plan, and understand what that plan includes

  Background:                       # features/premium/upgrade_membership.feature:11
    Given the following plans exist # features/step_definitions/premium_steps.rb:58
      | name        | id         | amount | free_trial_length_days |
      | Premium     | premium    | 1000   | 7                      |
      | Premium Mob | premiummob | 2500   | 0                      |
    And the following users exist   # features/step_definitions/user_steps.rb:228
      | first_name | last_name | email                  | github_profile_url         | last_sign_in_ip |
      | Alice      | Jones     | alice@btinternet.co.uk | http://github.com/AliceSky | 127.0.0.1       |

  Scenario: User upgrades to premium from free tier                 # features/premium/upgrade_membership.feature:36
    Given I am logged in                                            # features/step_definitions/user_steps.rb:63
    When I am on my profile page                                    # features/step_definitions/user_steps.rb:389
    Then I should see a tooltip explanation of Premium              # features/step_definitions/premium_steps.rb:121
    And I click "Upgrade to Premium"                                # features/step_definitions/basic_steps.rb:90
    And I click "Subscribe" within the card_section                 # features/step_definitions/contained_search_steps.rb:33
    When I fill in appropriate card details for premium             # features/step_definitions/premium_steps.rb:6
    Then I should see "Premium Member"                              # features/step_definitions/basic_steps.rb:202
    And my profile page should reflect that I am a "Premium" member # features/step_definitions/premium_steps.rb:131
      expected to find text "Premium Member" in "Anders Persson ABOUT PROJECTS MEMBERS PREMIUM EVENTS GETTING STARTED Anders Persson 0 Premium Sweden Europe/Stockholm (UTC+01:00) Member for less than a minute Edit Set status Basic Member About Skills About me Omnis voluptatem voluptatem in et asperiores eveniet. Anders Persson has no publicly viewable Youtube videos. Learn More About Us Getting Started Dashboard Opportunities Blog Press Kit Social Facebook Twitter Our Sponsors Standup Bot Craft Academy Mooqita RubyMine Becoming a sponsor AgileVentures - Crowdsourced Learning Contact us Send a traditional email to info@agileventures.org. We are a Charitable Incorporated Organisation (CIO) in the UK. Ref #1170963" (RSpec::Expectations::ExpectationNotMetError)
      ./features/step_definitions/premium_steps.rb:134:in `/^my profile page should reflect that I am a "([^"]*)" member$/'
      features/premium/upgrade_membership.feature:44:in `And my profile page should reflect that I am a "Premium" member'
    And I should see button "Upgrade to Premium Mob"                # features/step_definitions/basic_steps.rb:232
    And I should see myself in the premium members list             # features/step_definitions/premium_steps.rb:75
WARN: Screenshot could not be saved. `page.current_path` is empty.

Failing Scenarios:
cucumber features/premium/upgrade_membership.feature:36 # Scenario: User upgrades to premium from free tier

1 scenario (1 failed)
12 steps (1 failed, 2 skipped, 9 passed)
0m18.349s
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In principle this test could be affected by the changes I&amp;rsquo;ve been making to the domain model, but if I stick in a debug breakpoint at the point that the view is trying to check the status of the member, it comes up as Premium and the test passes.&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;    Then I should see "Premium Member"                              # features/step_definitions/basic_steps.rb:202

[68, 77] in /Users/tansaku/Documents/GitHub/AgileVentures/WebsiteOne/app/views/users/profile/_summary.html.erb
   68:                          class: 'user-profile-btn',
   69:                          type: 'button' %&amp;gt;&amp;lt;/p&amp;gt;
   70:         &amp;lt;/li&amp;gt;
   71:     &amp;lt;% end %&amp;gt;
   72:       &amp;lt;% byebug  # the presence of this allows features/premium/upgrade_membership.feature:36 to pass for me locally %&amp;gt;
=&amp;gt; 73:       &amp;lt;li&amp;gt;&amp;lt;%= presenter.user.membership_type %&amp;gt; Member&amp;lt;/li&amp;gt;
   74:       &amp;lt;% if presenter.user.membership_type == 'Premium' %&amp;gt;
   75:         &amp;lt;li&amp;gt;&amp;lt;%= render 'users/profile/premium_mob_upgrade', presenter: presenter  %&amp;gt;&amp;lt;/li&amp;gt;
   76:       &amp;lt;% elsif presenter.user.membership_type == 'Basic' %&amp;gt;
   77:         &amp;lt;li&amp;gt;&amp;lt;%= render 'users/profile/premium_upgrade', presenter: presenter %&amp;gt;&amp;lt;/li&amp;gt;
(byebug) presenter.user.membership_type
"Premium"
(byebug) c
    And my profile page should reflect that I am a "Premium" member # features/step_definitions/premium_steps.rb:131
    And I should see button "Upgrade to Premium Mob"                # features/step_definitions/basic_steps.rb:232
    And I should see myself in the premium members list             # features/step_definitions/premium_steps.rb:75
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and similarly if I slap in a byebug at the point that the user&amp;rsquo;s plan is updated we get the same pass:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;    When I fill in appropriate card details for premium             # features/step_definitions/premium_steps.rb:6

[3, 12] in /Users/tansaku/Documents/GitHub/AgileVentures/WebsiteOne/app/services/add_subscription_to_user_for_plan.rb
    3:   def self.with(user, sponsor, time, plan, payment_source, subscription_klass = Subscription)
    4:     ensure_all_previous_subscriptions_are_ended(user, time)
    5:     user.subscriptions &amp;lt;&amp;lt; subscription_klass.new(started_at: time, sponsor: sponsor, plan: plan, payment_source: payment_source)
    6:     user.title_list &amp;lt;&amp;lt; plan.name
    7:     byebug
=&amp;gt;  8:     user.save!
    9:   end
   10: 
   11:   def self.ensure_all_previous_subscriptions_are_ended(user, time)
   12:     unended_subs = user.subscriptions.select { |s| s.ended_at.nil? }
(byebug) c
    Then I should see "Premium Member"                              # features/step_definitions/basic_steps.rb:202
    And my profile page should reflect that I am a "Premium" member # features/step_definitions/premium_steps.rb:131
    And I should see button "Upgrade to Premium Mob"                # features/step_definitions/basic_steps.rb:232
    And I should see myself in the premium members list             # features/step_definitions/premium_steps.rb:75
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So my hypothesis is that the request to check the profile page is going through so fast that the request for data about the user is coming back before the update has taken place.  The changes I&amp;rsquo;ve made mean the update does take longer.  If my hypothesis is correct, the question is how to make sure that the cuke step to look up the profile page waits until the previous operation has executed.  It occurs to me that Cucumber steps that hit a new endpoint on the server can be treated almost like fire and forget operations. Makes me think of JavaScript non-blocking activity.  Maybe this isn&amp;rsquo;t at all about JavaScript, sorry JavaScript.  Maybe the check that I have &lt;code&gt;&amp;quot;Then I should see &amp;quot;Premium Member&amp;quot;&lt;/code&gt; is passing too quickly?  Strange though, I&amp;rsquo;m pretty sure that page won&amp;rsquo;t have Premium Member in it until the transaction has gone through, but is the database in a separate thread?  I didn&amp;rsquo;t think the page would update until the database action completed, but I guess that we go to the create method in the subscriptions controller via a redirect that&amp;rsquo;s triggered from our javascript Stripe form &amp;hellip;&lt;/p&gt;

&lt;p&gt;So I change the step to be &lt;code&gt;Then I should see &amp;quot;Thanks, you&amp;#39;re now an AgileVentures Premium Member&amp;quot;&lt;/code&gt;, which really can&amp;rsquo;t display until the create method has completed, but I get the same error.  Nice hypothesis, but not supported by the data &amp;hellip; hmm, so I create a new step that will check the member status has changed under the hood:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;And(/^I am a "([^"]*)" Member$/) do |type|
  expect(@user.membership_type).to eq type
end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and that fails too:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;    Then I should see "Thanks, you're now an AgileVentures Premium Member" # features/step_definitions/basic_steps.rb:202
    And I am a "Premium" Member                                            # features/step_definitions/premium_steps.rb:144

      expected: "Premium"
           got: "Basic"

      (compared using ==)
       (RSpec::Expectations::ExpectationNotMetError)
      ./features/step_definitions/premium_steps.rb:145:in `/^I am a "([^"]*)" Member$/'
      features/premium/upgrade_membership.feature:44:in `And I am a "Premium" Member'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which makes me wonder if this something to do with our database transaction and cleaner.  I was skeptical but I found this &lt;a href="https://stackoverflow.com/a/40185853/316729"&gt;SO answer&lt;/a&gt; which suggesting changing our cleaner from &lt;code&gt;after(:each)&lt;/code&gt; to &lt;code&gt;append_after(:each)&lt;/code&gt; and it appears to have worked &amp;hellip;?  This is the change:&lt;/p&gt;
&lt;pre class="highlight ruby"&gt;&lt;code&gt;  &lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;append_after&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;:each&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
    &lt;span class="no"&gt;DatabaseCleaner&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;clean&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in &lt;code&gt;spec_helper.rb&lt;/code&gt;, but after two passes, I cleaned up the extraneous steps and I get a fail again.  Rats.  Again, a feature that takes X amount of time to develop, but takes 5X time to sort out its flaky acceptance tests.  Anyhow, so now I print out the user subscriptions at the point the user has been updated and in the new step to check:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;    When I fill in appropriate card details for premium                    # features/step_definitions/premium_steps.rb:6
#&amp;lt;Subscription id: 1, type: nil, started_at: "2018-01-16 10:07:10", ended_at: nil, user_id: 2, plan_id: 1, sponsor_id: 2&amp;gt;
    Then I should see "Thanks, you're now an AgileVentures Premium Member" # features/step_definitions/basic_steps.rb:202
    And I am a "Premium" Member                                            # features/step_definitions/premium_steps.rb:144
      ["#&amp;lt;Subscription id: 1, type: nil, started_at: \"2018-01-16 10:07:10\", ended_at: nil, user_id: 2, plan_id: 1, sponsor_id: 2&amp;gt;"]

      expected: "Premium"
           got: "Basic"

      (compared using ==)
       (RSpec::Expectations::ExpectationNotMetError)
      ./features/step_definitions/premium_steps.rb:146:in `/^I am a "([^"]*)" Member$/'
      features/premium/upgrade_membership.feature:44:in `And I am a "Premium" Member'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Weird thing here is that both the subscription states look correct, so why does the membership type not report correctly &amp;hellip; which leads me to:&lt;/p&gt;
&lt;pre class="highlight ruby"&gt;&lt;code&gt;  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;current_subscription&lt;/span&gt;
    &lt;span class="n"&gt;current_subscriptions&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;subscriptions&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;ended_at: &lt;/span&gt;&lt;span class="kp"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nf"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'started_at &amp;lt; :now'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;now: &lt;/span&gt;&lt;span class="no"&gt;DateTime&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;now&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="kp"&gt;nil&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;current_subscriptions&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;nil?&lt;/span&gt; &lt;span class="n"&gt;or&lt;/span&gt; &lt;span class="n"&gt;current_subscriptions&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;empty?&lt;/span&gt;
    &lt;span class="n"&gt;current_subscriptions&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;first&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ah, so maybe that &lt;code&gt;&amp;lt;&lt;/code&gt; should be &lt;code&gt;&amp;lt;=&lt;/code&gt;.  So that helps it pass, but the problem with an intermittent fail is that a single pass is not enough and I clean up and then I get another fail again &amp;hellip; okay, so I then manage to catch another fail with some more logging:&lt;/p&gt;
&lt;pre class="highlight ruby"&gt;&lt;code&gt;  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;current_subscription&lt;/span&gt;
    &lt;span class="nb"&gt;puts&lt;/span&gt; &lt;span class="s2"&gt;"all user subs: &lt;/span&gt;&lt;span class="si"&gt;#{&lt;/span&gt;&lt;span class="n"&gt;subscriptions&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;map&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;inspect&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;}"&lt;/span&gt;
    &lt;span class="n"&gt;current_subscriptions&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;subscriptions&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;ended_at: &lt;/span&gt;&lt;span class="kp"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nf"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'started_at &amp;lt;= :now'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="ss"&gt;now: &lt;/span&gt;&lt;span class="no"&gt;DateTime&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;now&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
    &lt;span class="nb"&gt;puts&lt;/span&gt; &lt;span class="s2"&gt;"current subs: &lt;/span&gt;&lt;span class="si"&gt;#{&lt;/span&gt;&lt;span class="n"&gt;current_subscriptions&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;map&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;inspect&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;}"&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="kp"&gt;nil&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;current_subscriptions&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;nil?&lt;/span&gt; &lt;span class="n"&gt;or&lt;/span&gt; &lt;span class="n"&gt;current_subscriptions&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;empty?&lt;/span&gt;
    &lt;span class="n"&gt;current_subscriptions&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;first&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;pre class="highlight plaintext"&gt;&lt;code&gt;#&amp;lt;Subscription id: 1, type: nil, started_at: "2018-01-16 10:17:55", ended_at: nil, user_id: 2, plan_id: 1, sponsor_id: 2&amp;gt;
    Then I should see "Thanks, you're now an AgileVentures Premium Member" # features/step_definitions/basic_steps.rb:202
all user subs: ["#&amp;lt;Subscription id: 1, type: nil, started_at: \"2018-01-16 10:17:55\", ended_at: nil, user_id: 2, plan_id: 1, sponsor_id: 2&amp;gt;"]
current subs: []
    And I am a "Premium" Member                                            # features/step_definitions/premium_steps.rb:145
      ["#&amp;lt;Subscription id: 1, type: nil, started_at: \"2018-01-16 10:17:55\", ended_at: nil, user_id: 2, plan_id: 1, sponsor_id: 2&amp;gt;"]

      expected: "Premium"
           got: "Basic"

      (compared using ==)
       (RSpec::Expectations::ExpectationNotMetError)
      ./features/step_definitions/premium_steps.rb:147:in `/^I am a "([^"]*)" Member$/'
      features/premium/upgrade_membership.feature:44:in `And I am a "Premium" Member'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So, we can somehow have a situation where the current subs query does not report what we expect.  The datetimes appear to be specfic to seconds &amp;hellip; maybe I should grab all the subscriptions and filter on the ruby side?&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;  def current_subscription
    puts "all user subs: #{subscriptions.map{|s| s.inspect}}"
    now = DateTime.now
    puts now
    current_subscriptions = subscriptions.select{|s| s.ended_at.nil? and s.started_at &amp;lt;= now}
    puts "current subs: #{current_subscriptions.map{|s| s.inspect}}"
    return nil if current_subscriptions.nil? or current_subscriptions.empty?
    current_subscriptions.first
  end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;but that also fails!  Weird - I even print out the time:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;all user subs: ["#&amp;lt;Subscription id: 1, type: nil, started_at: \"2018-01-16 10:27:11\", ended_at: nil, user_id: 2, plan_id: 1, sponsor_id: 2&amp;gt;"]
2018-01-16T10:27:11+00:00
s.ended_at.nil?: true
s.started_at &amp;lt;= now: false
current subs: []
    And I am a "Premium" Member                                            # features/step_definitions/premium_steps.rb:145
      ["#&amp;lt;Subscription id: 1, type: nil, started_at: \"2018-01-16 10:27:11\", ended_at: nil, user_id: 2, plan_id: 1, sponsor_id: 2&amp;gt;"]

      expected: "Premium"
           got: "Basic"

      (compared using ==)
       (RSpec::Expectations::ExpectationNotMetError)
      ./features/step_definitions/premium_steps.rb:147:in `/^I am a "([^"]*)" Member$/'
      features/premium/upgrade_membership.feature:44:in `And I am a "Premium" Member'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It makes it look like when the time exactly matches the equality is not there.  Guess I should drop to a unit test:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;    context 'just started a new plan' do
      before { subscription2.ended_at = now ; subscription2.save }
      let!(:subscription3) { FactoryGirl.create(:subscription, user: user, plan: premium_f2f, started_at: now, payment_source: payment_source) }

      it 'returns subscription that has started right now and has not ended' do
        expect(user.current_subscription.id).to eq subscription3.id
      end
    end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;but that doesn&amp;rsquo;t fail in the way I expect, but it looks like the following tip about converting the datetimes to integers seems to work from the print out I&amp;rsquo;m getting running the cuke test &amp;hellip;&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;    Then I should see "Thanks, you're now an AgileVentures Premium Member" # features/step_definitions/basic_steps.rb:202
1: s.ended_at.nil?: true
1: s.started_at &amp;lt;= now: false
1: s.started_at.to_i &amp;lt;= now.to_i: true
1: s.ended_at.nil?: true
1: s.started_at &amp;lt;= now: false
1: s.started_at.to_i &amp;lt;= now.to_i: true
    And my profile page should reflect that I am a "Premium" member        # features/step_definitions/premium_steps.rb:131
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice how the &lt;code&gt;s.started_at &amp;lt;= now&lt;/code&gt; is false while &lt;code&gt;s.started_at.to_i &amp;lt;= now.to_i&lt;/code&gt; is true.  I got the idea from:&lt;/p&gt;

&lt;p&gt;&lt;a href="https://makandracards.com/makandra/1057-why-two-ruby-time-objects-are-not-equal-although-they-appear-to-be"&gt;https://makandracards.com/makandra/1057-why-two-ruby-time-objects-are-not-equal-although-they-appear-to-be&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When I use &lt;code&gt;to_i&lt;/code&gt; to compare the dates all the tests pass in batch and in the CI, making it seem like we&amp;rsquo;ve licked the intermittent fail issue, which seems to have been completely unrelated to JavaScript, but a function of the system looking for subscriptions that started in the past, and the cuke tests running fast enough that sometimes (and only sometimes) when the new subscription was created in the same second as the check for the current_subscription, the user would still be reported as not having upgraded to the new subscription.  The fix should have been just changing &amp;rsquo;&amp;lt;&amp;rsquo; to &amp;rsquo;&amp;lt;=&amp;rsquo; but the date comparison seems to require switching to integers to make it work as we expect.&lt;/p&gt;

&lt;p&gt;What&amp;rsquo;s frustrating is that the new unit test checks for the &lt;code&gt;&amp;lt;=&lt;/code&gt; but somehow using factory girl (or something) does not replicate the exact way that the dates get set up when the whole thing runs in the acceptance test, so I have the system working now, but not a nice unit test precisely nailing the concealed bug &amp;hellip;&lt;/p&gt;

&lt;p&gt;Time to wrap up for now - I&amp;rsquo;ll leave notes in the code - I wonder if this is a known Rails issue &amp;hellip; anyway, apologies to JavaScript for thinking it was all your fault - not in this case :-)&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>AV EcoSystem Review Getting Back on Track</title>
    <link rel="alternate" href="http://blog.url.com/2018/01/15/av-ecosystem-review-getting-back-on-track/"/>
    <id>http://blog.url.com/2018/01/15/av-ecosystem-review-getting-back-on-track/</id>
    <published>2018-01-15T09:00:00+09:00</published>
    <updated>2018-06-13T18:06:30+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;img alt="track" src="/images/track.jpeg" /&gt;&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m a bit of a wreck this morning.  I didn&amp;rsquo;t sleep well - woke up at 4am brain full of kids football.  I did write down a new drill for training (I coach 7aside soccer for nine year olds) and then listened to standup comedy on audio for 2 hours to stop my brain endlessly turning over the same thoughts again and again.  Not dissimilar to last Sunday night/Monday morning.  Emotionally charged football matches.  This weekend&amp;rsquo;s was less intense (draw instead of a loss), but I worked three hours in the afternoon to get the APSoc&amp;rsquo;s membership database recreated on MS Access now that I got the green light from the client to switch.  This is all because LibreOffice is crashing too frequently and ZohoCreator looks like it doesn&amp;rsquo;t might not have all the functionality we need.&lt;/p&gt;

&lt;p&gt;I made reasonable progress yesterday although I was popping paracetamol and ibuprofen to push on in the last hour.  I think I&amp;rsquo;ve got us back to the place we were in LibreOffice, and actually got a few more supporting tables to populate the dropdown lists correctly.  However there&amp;rsquo;s a clear additional chunk of functionality that I hadn&amp;rsquo;t really been focusing on.  A load of specification for default values, computed fields and so forth.  I&amp;rsquo;d love to have a break from the project this week, so I think the thing to do is label what we have as an MS Access alpha version and re-work the schedule.  Here are screenshots of the different forms done in Access.&lt;/p&gt;

&lt;p&gt;&lt;img src="https://dl.dropbox.com/s/ydoubyw95wb1zhc/Screenshot%202018-01-15%2009.28.44.png?dl=0" /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src="https://dl.dropbox.com/s/eoi4nm5e655wnhq/Screenshot%202018-01-15%2009.29.14.png?dl=0" /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src="https://dl.dropbox.com/s/rel3yqy4ur1rujc/Screenshot%202018-01-15%2009.31.58.png?dl=0" /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src="https://dl.dropbox.com/s/jqch3s2dbyujrzi/Screenshot%202018-01-15%2009.32.19.png?dl=0" /&gt;&lt;/p&gt;

&lt;p&gt;Wonder if I should set up a Trello board for all the different bits of functionality?  I guess I&amp;rsquo;ll get the new schedule approved.  The old schedule had been:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;by Dec 8th - screenshots of membership database interface for you to approve&lt;/li&gt;
&lt;li&gt;by Dec 15th - alpha version of membership database for you to approve&lt;/li&gt;
&lt;li&gt;by Jan 5th - beta version of membership database adjusted as per feedback&lt;/li&gt;
&lt;li&gt;by Jan 31st - release version of membership database adjusted as per feedback, including full migration &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;so if we have the alpha version now, then perhaps we can set the beta version for Jan 26th, and then release version on Feb 9th, so that&amp;rsquo;s&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;by Jan 26th - beta version of membership database adjusted as per feedback&lt;/li&gt;
&lt;li&gt;by Feb 9th - release version of membership database adjusted as per feedback, including full migration&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;which I put in an email to the client:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Thanks for your email - hope you had a good weekend.&lt;/p&gt;

&lt;p&gt;We now have an alpha version in MSAccess, which you can access here:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;[DROP BOX LINK]&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;In case you don&amp;rsquo;t have a copy of MSAccess please find screenshots of all the forms attached.
Thanks so much for all the detailed feedback over the last few weeks.  I believe we have a good chunk of the issues addressed in this MS Access alpha version, but certainly not all. In particular, as you noticed, the majority of fields are not folllowing the defaulted/calculated/midified rules from the database definition.   This is simply as we hadn&amp;rsquo;t started work on implementing them yet.   Please rest assured that they will be implemented in the next version.&lt;/p&gt;

&lt;p&gt;Given the software issues we encountered with LibreOffice we&amp;rsquo;d like to propose the following new schedule for delivery:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;by Jan 26th - beta version of membership database adjusted as per feedback&lt;/li&gt;
&lt;li&gt;by Feb 9th - release version of membership database adjusted as per feedback, including full migration&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Our sincere apologies for the slippage and we hope the new schedule meets with your approval.&lt;/p&gt;

&lt;p&gt;Best, Sam&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;and I&amp;rsquo;ll send that later today.  Now what I really want is some coffee and perhaps I can dive into my outstanding pull request on updating the WSO Premium model so that it can support the sponsor relations we need to more accurately represent our Premium membership data &amp;hellip;&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>AV EcoSystem Review Starting Over</title>
    <link rel="alternate" href="http://blog.url.com/2018/01/12/av-ecosystem-review-starting-over/"/>
    <id>http://blog.url.com/2018/01/12/av-ecosystem-review-starting-over/</id>
    <published>2018-01-12T09:00:00+09:00</published>
    <updated>2018-06-13T18:06:30+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;img alt="starting over" src="/images/starting_over.jpg" /&gt;&lt;/p&gt;

&lt;p&gt;Yesterday I sent the APSoc client the following email:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;So I think we need to make some decisions about how to proceed.&lt;/p&gt;

&lt;p&gt;At the moment we are thinking that the best alternatives are to either go with MS Access, or with Zoho Creator.  Using the XLSX you just provided we&amp;rsquo;ve started projects in both MS Access and Zoho Creator.  It&amp;rsquo;s obviously not ideal to have to switch platform at this stage, but the instability of LibreOffice Base makes it seem like we can&amp;rsquo;t continue with that platform.&lt;/p&gt;

&lt;p&gt;Zoho Creator is a cloud solution that replicates much of the MSAccess/LotusApproach functionality, and comes with a £10 a month price tag, but reduced to £8 for charities.&lt;/p&gt;

&lt;p&gt;MS offers Access as part of Office 365 for £1.50 a month (for charities), and Access is also available standalone.  Access 2013 is available for £12 for charities and Access 2016 is available for about £95.  I&amp;rsquo;m keen to know if you already have a copy of Access and whether you have strong preferences here.&lt;/p&gt;

&lt;p&gt;I know that you were looking to avoid any monthly charges, and anticipate that you might prefer the standalone MS Access option.  If you do currently have a copy of MS Access please let us know which version you have.&lt;/p&gt;

&lt;p&gt;Please let me know if you&amp;rsquo;d like a call to discuss the alternatives.  We&amp;rsquo;re planning to work through the weekend to get the project back on schedule on a new platform.&lt;/p&gt;

&lt;p&gt;Apologies for the inconvenience.&lt;/p&gt;

&lt;p&gt;Best, Sam&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;and I haven&amp;rsquo;t heard back yet, so I guess I&amp;rsquo;m going to take a stab at moving the MS Access version forward.  Zoho Creator was nice and zippy, and MS Access feels sluggish, but I suspect that the monthly charge for Zoho could be a dealbreaker.&lt;/p&gt;

&lt;p&gt;It took about 40 minutes but I got a draft form for members up in Access 2007:&lt;/p&gt;

&lt;p&gt;&lt;img src="https://dl.dropbox.com/s/5khkijp2qr728gj/Screenshot%202018-01-12%2011.33.31.png?dl=0" /&gt;&lt;/p&gt;

&lt;p&gt;With at least one dropdown linking to a different table.  Overall the UI is easily better than the latest LibreOffice even though I&amp;rsquo;m using MSAccess from 10 years back.  Hmm, maybe I should have just started with Access for a simple life, but we&amp;rsquo;ll see.  Now I&amp;rsquo;m tempted to see what&amp;rsquo;s the best I can get out of Zoho &amp;hellip; I immediately run up against a couple of (perhaps minor) issues, which are that we can&amp;rsquo;t easily convert fields from multi-line to single-line and back again.  Also my attempts to adjust a drop down field to radio buttons fails.  I think I&amp;rsquo;ll give up there.  I&amp;rsquo;m pretty sure the client is going to be much happier with the results from MSAccess, and I can develop faster there too &amp;hellip;&lt;/p&gt;
</content>
  </entry>
</feed>
